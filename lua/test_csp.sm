;; -*- scheme -*-
;; Subset of Scheme representing sm.h style protothreads.
;;
;; This is a test file that compiles to testable code.  See test.sm
;; for a nonsense code example exercising all forms.

;(let* ((a 123)
;       (b 345))
;      (add a b 1))

;; TODO:
;; - set!
;; - multi-arg tail calls

(module (testmod)

  (define (fun1)
    (if (add
         (read chan1)
         (read chan1))
        (fun1)
        (fun2)))

  (define (fun2)
    (fun1))
  
  )




